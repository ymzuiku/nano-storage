var o=(s,e,{storage:n="localStorage",version:c}={})=>{if(s=s+(c||o.version),typeof e!="object")throw"NanoDb: init need a object";if(e.set||e.reinit||e.initData)throw"NanoDb: init object can not use props: ['set', 'initData', 'reinit']";let i=JSON.parse(JSON.stringify(e)),a={initData:JSON.parse(JSON.stringify(e)),reinit:()=>{let t=JSON.stringify(a.initData),g=JSON.parse(t);window[n].setItem(s,t),Object.assign(a,g)},set:t=>{Object.assign(i,t),Object.assign(a,t),window[n].setItem(s,JSON.stringify(i))}},r=window[n].getItem(s);if(r)try{let t=JSON.parse(r);a.set(t)}catch(t){console.error(t),a.set(e)}else a.set(e);return a};o.version="";export{o as NanoStorage};
