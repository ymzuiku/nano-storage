var n=(o,a,{storage:s="localStorage",version:i}={})=>{if(o=o+(i||n.version),typeof a!="object")throw"NanoDb: init need a object";let t={data:JSON.parse(JSON.stringify(a)),initData:JSON.parse(JSON.stringify(a)),reinit:()=>{let e=JSON.stringify(t.initData);window[s].setItem(o,e),Object.assign(t,JSON.parse(e))},set:e=>{Object.assign(t.data,e),window[s].setItem(o,JSON.stringify(t.data))}},r=window[s].getItem(o);if(r)try{let e=JSON.parse(r);t.set(e)}catch(e){console.error(e),t.set(a)}else t.set(a);return t};n.version="";export{n as NanoStorage};
